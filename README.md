# PriceHunter Bot

PriceHunter ‚Äî —ç—Ç–æ Telegram-–±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å –∏ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Ü–µ–Ω—ã –Ω–∞ —Ç–æ–≤–∞—Ä—ã. –ë–æ—Ç –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–≤–∞—Ä–∞—Ö –∏ –∏—Ö —Ü–µ–Ω–∞—Ö –∏–∑ –ø–µ—Ä–µ—Å–ª–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –±–∞–∑—É SQLite –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —ç—Ç–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π. –ë–æ—Ç –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ Python —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫ `aiogram`, `FastAPI` –∏ `aiosqlite`.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –∏ —Ü–µ–Ω**: –ë–æ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–µ—Ä–µ—Å–ª–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –∏–∑–≤–ª–µ–∫–∞—è —Ç–æ–≤–∞—Ä—ã (–≤ –∫–∞–≤—ã—á–∫–∞—Ö –∏–ª–∏ –≤ –≤–∏–¥–µ —Ç–µ–∫—Å—Ç–∞) –∏ –∏—Ö —Ü–µ–Ω—ã, —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—ã–µ —Å–∏–º–≤–æ–ª–∞–º–∏ `:` –∏–ª–∏ `-`.
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–æ–≤–∞—Ä–∞—Ö —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö SQLite –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞.
- **–ö–æ–º–∞–Ω–¥—ã**:
  - `/start` ‚Äî –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.
  - `/help` ‚Äî —Å–ø—Ä–∞–≤–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ–º–∞–Ω–¥–∞—Ö.
  - `/best` ‚Äî –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ —Å —Å–∞–º–æ–π –Ω–∏–∑–∫–æ–π —Ü–µ–Ω–æ–π.
  - `/last` ‚Äî –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ (–¥–æ 5).
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ Webhook –∏ API**: –ë–æ—Ç –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —á–µ—Ä–µ–∑ polling –∏–ª–∏ Webhook —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º FastAPI.
- **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –¥–µ–ø–ª–æ—é**: –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –¥–µ–ø–ª–æ–π –Ω–∞ Render –∏–ª–∏ VPS (—á–µ—Ä–µ–∑ Docker).

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–∞—Ä—Å–µ—Ä
–ë–æ—Ç –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–æ–≤–∞—Ä—ã –∏ —Ü–µ–Ω—ã –∏–∑ —Ç–µ–∫—Å—Ç–∞ —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:
- **–§–æ—Ä–º–∞—Ç —Ç–µ–∫—Å—Ç–∞**:
  - –¢–æ–≤–∞—Ä—ã –º–æ–≥—É—Ç –±—ã—Ç—å —É–∫–∞–∑–∞–Ω—ã –≤ –∫–∞–≤—ã—á–∫–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, `"iPhone 14" - 70000`) –∏–ª–∏ –±–µ–∑ –Ω–∏—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, `iPhone 14 - 70000`).
  - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é –∏–ª–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å—Ç—Ä–æ–∫–∞—Ö.
  - –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ –º–µ–∂–¥—É –Ω–∞–∑–≤–∞–Ω–∏–µ–º —Ç–æ–≤–∞—Ä–∞ –∏ —Ü–µ–Ω–æ–π: `:` –∏–ª–∏ `-`.
  - –ü—Ä–∏–º–µ—Ä —Ç–µ–∫—Å—Ç–∞:
    ```
    "iPhone 14" - 70000 ‚ÇΩ
    AirPods Pro: 25000
    MacBook Air, Samsung Galaxy S23 - 120000
    ```
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**:
  - –ë–æ—Ç –∏–∑–≤–ª–µ—á–µ—Ç —Ç–æ–≤–∞—Ä—ã –∏ —Ü–µ–Ω—ã: `[(iPhone 14, 70000), (AirPods Pro, 25000), (MacBook Air, 120000), (Samsung Galaxy S23, 120000)]`.
  - –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –±–∞–∑—É SQLite —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∏—Å—Ç–æ—á–Ω–∏–∫–∞ (–Ω–∞–∑–≤–∞–Ω–∏–µ —á–∞—Ç–∞, –æ—Ç–∫—É–¥–∞ –ø–µ—Ä–µ—Å–ª–∞–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ).

## –ö–æ–º–∞–Ω–¥—ã
- **/start**  
  –í—ã–≤–æ–¥–∏—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:  
  `–ü—Ä–∏–≤–µ—Ç! –ü–µ—Ä–µ—à–ª–∏ —Å—é–¥–∞ –ø–æ—Å—Ç —Å —Ç–æ–≤–∞—Ä–æ–º, –∏ —è –ø–æ–º–æ–≥—É –Ω–∞–π—Ç–∏ –ª—É—á—à—É—é —Ü–µ–Ω—É.`
- **/help**  
  –í—ã–≤–æ–¥–∏—Ç —Å–ø—Ä–∞–≤–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–º–∞–Ω–¥–∞—Ö:  
  ```
  /start ‚Äî –∑–∞–ø—É—Å–∫
  /best ‚Äî –ª—É—á—à–∏–π —Ç–æ–≤–∞—Ä
  /last ‚Äî –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ç–æ–≤–∞—Ä—ã
  ```
- **/best**  
  –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–≤–∞—Ä —Å —Å–∞–º–æ–π –Ω–∏–∑–∫–æ–π —Ü–µ–Ω–æ–π –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:  
  ```
  üèÜ –õ—É—á—à–∏–π —Ç–æ–≤–∞—Ä:
  AirPods Pro ‚Äî 25000 ‚ÇΩ
  –ò—Å—Ç–æ—á–Ω–∏–∫: TechDeals
  ```
  –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç, –≤—ã–≤–æ–¥–∏—Ç—Å—è: `‚ùå –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ —Ç–æ–≤–∞—Ä–∞—Ö.`
- **/last**  
  –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤:  
  ```
  üïí –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ç–æ–≤–∞—Ä—ã:
  iPhone 14 ‚Äî 70000 ‚ÇΩ (–ò—Å—Ç–æ—á–Ω–∏–∫: TechDeals)
  AirPods Pro ‚Äî 25000 ‚ÇΩ (–ò—Å—Ç–æ—á–Ω–∏–∫: GadgetShop)
  MacBook Air ‚Äî 120000 ‚ÇΩ (–ò—Å—Ç–æ—á–Ω–∏–∫: ElectroMart)
  Samsung Galaxy S23 ‚Äî 120000 ‚ÇΩ (–ò—Å—Ç–æ—á–Ω–∏–∫: ElectroMart)
  ```
  –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç, –≤—ã–≤–æ–¥–∏—Ç—Å—è: `‚ùå –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ —Ç–æ–≤–∞—Ä–∞—Ö.`
- **–ü–µ—Ä–µ—Å—ã–ª–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è**  
  –ü–µ—Ä–µ—à–ª–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —Ç–æ–≤–∞—Ä–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, `"iPhone 14" - 70000 ‚ÇΩ`), –∏ –±–æ—Ç:
  - –ò–∑–≤–ª–µ—á–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ —Ü–µ–Ω—É.
  - –°–æ—Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –≤ –±–∞–∑—É.
  - –û—Ç–≤–µ—Ç–∏—Ç: `‚úÖ –ù–∞–π–¥–µ–Ω–æ: iPhone 14 - 70000 ‚ÇΩ`.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞
### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.10+
- Visual Studio Code (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- Telegram-–±–æ—Ç, —Å–æ–∑–¥–∞–Ω–Ω—ã–π —á–µ—Ä–µ–∑ @BotFather
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (—Å–º. `requirements.txt`)

### –®–∞–≥–∏
1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**:
   ```bash
   git clone <your-repository-url>
   cd price_hunter_bot
   ```

2. **–°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ**:
   ```bash
   python -m venv venv
   .\venv\Scripts\activate
   ```

3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**:
   ```bash
   pip install -r requirements.txt
   ```

4. **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`**:
   –í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –∏ –¥–æ–±–∞–≤—å—Ç–µ:
   ```
   BOT_TOKEN=your_bot_token_from_botfather
   DB_PATH=price_hunter.db
   ```

5. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö**:
   ```bash
   python -c "import asyncio; from database.db import init_db; asyncio.run(init_db())"
   ```

6. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç**:
   - –î–ª—è —Ä–µ–∂–∏–º–∞ polling:
     ```bash
     python bot.py
     ```
   - –î–ª—è —Ä–µ–∂–∏–º–∞ Webhook (—Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–∞):
     ```bash
     uvicorn api.main:app --host 0.0.0.0 --port 8000
     ```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
price_hunter_bot/
‚îú‚îÄ‚îÄ bot.py                # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è polling
‚îú‚îÄ‚îÄ config.py             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (.env)
‚îú‚îÄ‚îÄ .env                  # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ requirements.txt      # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ Procfile              # –î–ª—è –¥–µ–ø–ª–æ—è –Ω–∞ Render
‚îú‚îÄ‚îÄ handlers/             # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ —Å–æ–æ–±—â–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ commands.py
‚îÇ   ‚îú‚îÄ‚îÄ forward_handler.py
‚îú‚îÄ‚îÄ services/             # –õ–æ–≥–∏–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞
‚îÇ   ‚îú‚îÄ‚îÄ parser.py
‚îú‚îÄ‚îÄ database/             # –†–∞–±–æ—Ç–∞ —Å SQLite
‚îÇ   ‚îú‚îÄ‚îÄ db.py
‚îÇ   ‚îú‚îÄ‚îÄ models.py
‚îú‚îÄ‚îÄ api/                  # FastAPI –¥–ª—è Webhook –∏ API
‚îÇ   ‚îú‚îÄ‚îÄ main.py
‚îú‚îÄ‚îÄ utils/                # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ text.py
```

## –î–µ–ø–ª–æ–π
### Render.com
1. –°–æ–∑–¥–∞–π—Ç–µ Web Service –Ω–∞ [Render.com](https://render.com).
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤–∞—à GitHub-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.
3. –£–∫–∞–∂–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (`BOT_TOKEN`, `DB_PATH`).
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–º–∞–Ω–¥—É –∑–∞–ø—É—Å–∫–∞:
   ```
   uvicorn api.main:app --host=0.0.0.0 --port=10000
   ```
5. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Webhook, –∑–∞–º–µ–Ω–∏–≤ `https://yourdomain.com/webhook` –≤ `api/main.py` –Ω–∞ –≤–∞—à URL.

### VPS (Docker)
1. –°–æ–∑–¥–∞–π—Ç–µ `Dockerfile` (—É–∂–µ –≤ –ø—Ä–æ–µ–∫—Ç–µ).
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ VPS —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º Docker.
3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ:
   ```bash
   docker build -t price_hunter_bot .
   docker run -d -p 8000:8000 --env-file .env price_hunter_bot
   ```

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –î–æ–±–∞–≤–ª–µ–Ω–æ –±–∞–∑–æ–≤–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `bot.py` –∏ `api/main.py`.
- **–†–∞—Å—à–∏—Ä–µ–Ω–∏—è**: –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º (React/Next.js) –∏ AI-–º–æ–¥—É–ª–µ–º –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤.

## –ö–æ–Ω—Ç–∞–∫—Ç—ã
@gus1bra

